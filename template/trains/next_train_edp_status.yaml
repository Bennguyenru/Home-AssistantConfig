- sensor:
  - name: 'Next train xyz status'
    unique_id: 'next_train_xyz_status'
    state: >-
      {{ state_attr('sensor.next_train_to_xyz','next_trains')[0].status }}
    icon: >-
      {% if states.sensor.next_train_to_xyz.attributes.next_trains[0].status == 'ON TIME' %}
        mdi:alarm-check
      {% elif states.sensor.next_train_to_xyz.attributes.next_trains[0].status == 'EARLY' %}
        mdi:alarm-check
      {% else %}
        mdi:clock-alert
      {% endif %}
