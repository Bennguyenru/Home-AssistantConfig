alias: person1 traveltime
sequence:
  - service: notify.logfile
    data:
      message: >
        Updated travel time for person1 at {{ now() }}
  - choose:
      # Nearby
      - conditions:
          - condition: numeric_state
            entity_id: proximity.person1_home
            below: 1000
        sequence:
          - service: homeassistant.update_entity
            entity_id: sensor.person1s_time_to_home_by_walking_google
          - service: homeassistant.update_entity
            entity_id: sensor.person1s_time_to_home_by_foot
      - conditions:
          - condition: numeric_state
            entity_id: proximity.person1_home
            below: 3000
        sequence:
          - service: homeassistant.update_entity
            entity_id: sensor.person1s_time_to_home_by_bus_google
          - service: homeassistant.update_entity
            entity_id: sensor.person1s_time_to_home_by_bus
    default:
      - service: homeassistant.update_entity
        entity_id: sensor.person1s_time_to_home_by_car_google
      - service: homeassistant.update_entity
        entity_id: sensor.person1s_time_to_home_waze
      - service: homeassistant.update_entity
        entity_id: sensor.person1s_time_to_home
