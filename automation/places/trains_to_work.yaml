id: 'trains_to_work'
alias: 'Trains to work'
initial_state: 'on'
trigger:
  - platform: time_pattern
    minutes: '/30'
condition:
  - condition: state
    entity_id: binary_sensor.workday_sensor
    state: 'on'
  - condition: state
    entity_id: input_boolean.person2_is_awake
    state: 'on'
  - condition: state
    entity_id: input_boolean.person2_home
    state: 'on'
  - condition: state
    entity_id: input_boolean.notify_train_status_work
    state: 'on'
  - condition: time
    after: '06:00:00'
    before: '12:00:00'
action:
  - service: script.turn_on
    entity_id: script.train_message
